ğŸ› ï¸ Strict Developer Instructions â€” Read Fully Before Modifying Anything

DO NOT:
- âŒ Do not change or refactor code that is already working correctly.
- âŒ Do not add duplicate logic.
- âŒ Do not add code comments unless requested.
- âŒ Do not assume or guess functionality â€” follow existing logic.
- âŒ Do not overwrite working database logic, embeds, or UI.

âœ… MANDATORY BEHAVIOR
- Only fix broken features.
- Respect existing codebase and structure.
- Validate every change.
- Maintain stability at all costs.
- Test every fix before moving on to the next.

âœ… FIX ONLY THESE ISSUES:

1. ğŸŒ Fix Timezone Saving & Usage

- Issue: Timezone saving fails with error: "âŒ Failed to save timezone. Please try again."
- Likely Cause: Timezone is saved, but item creation doesnâ€™t continue. Fix the flow logic.
- âœ… Required Fixes:
  - Use the IANA timezone database to validate input.
  - Save the timezone to DB.
  - After saving, automatically resume the item submission process. Do not abort.
  - When user enters time, convert it using their timezone â†’ UTC UNIX timestamp.

2. ğŸ•’ Add Custom Time (HH:MM)

- Add a button: â± Enter Custom Time (next to time dropdowns).
- On button click:
  - Open modal asking for input in format: "HH:MM" (24-hour).
  - Validate input strictly with ^([01]\d|2[0-3]):([0-5]\d)$.
  - Combine with selected date and userâ€™s timezone to generate correct timestamp.
  - Continue with submission using that timestamp.

âš ï¸ Do not remove existing dropdowns. This is an extra option.

3. â° Event Trigger System

Event Flow (must implement exactly as written):
1. At the event time:
   - âœ… Delete the item from sellerâ€™s listing (embed + database).
2. âœ… Notify seller and queued buyers:  
   "â³ The event for [Item Name] has started. Please confirm your participation."
3. âœ… When buyers confirm:
   - Start 1-hour timer.
4. âœ… After 1 hour:
   - Send buyers a prompt to rate the seller (1-5 stars).
   - Save rating in database under sellerâ€™s profile.
5. âœ… Use DB to track:
   - Confirmation
   - Timer trigger
   - Prevent duplicates or missed events

âš ï¸ No time.sleep() or blocking loops â€” use timestamp comparisons or async background tasks.

4. ğŸ“Œ Developer Final Notes

- Most of the code already exists â€” your job is to debug and connect it, not to rebuild it.
- âœ… Read the entire project before editing.
- âœ… Handle timezones using user's saved timezone.
- âœ… All timestamp calculations must consider timezones correctly.
- âŒ Do not add new logic if existing logic already does it correctly â€” just fix the flow or usage.
